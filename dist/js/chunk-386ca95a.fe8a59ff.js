(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-386ca95a"],{1799:function(e,t,a){"use strict";var c=a("7a23"),n={"aria-label":"Page navigation example"},o={class:"pagination"},r=Object(c["f"])("span",{"aria-hidden":"true"},"«",-1),l=Object(c["f"])("span",{"aria-hidden":"true"},"»",-1);function i(e,t,a,i,s,d){return Object(c["r"])(),Object(c["d"])("nav",n,[Object(c["f"])("ul",o,[Object(c["f"])("li",{class:["page-item",{disabled:!a.page.has_pre}]},[Object(c["f"])("a",{onClick:t[1]||(t[1]=Object(c["I"])((function(t){return e.$emit("page-change",a.page.current_page-1)}),["prevent"])),class:"page-link",href:"#","aria-label":"Previous"},[r])],2),(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(a.page.total_pages,(function(t){return Object(c["r"])(),Object(c["d"])("li",{class:[{active:t===a.page.current_page},"page-item"],key:t},[Object(c["f"])("a",{class:"page-link",href:"#",onClick:Object(c["I"])((function(a){return e.$emit("page-change",t)}),["prevent"])},Object(c["z"])(t),9,["onClick"])],2)})),128)),Object(c["f"])("li",{class:["page-item",{disabled:!a.page.has_next}]},[Object(c["f"])("a",{onClick:t[2]||(t[2]=Object(c["I"])((function(t){return e.$emit("page-change",a.page.current_page+1)}),["prevent"])),class:"page-link",href:"#","aria-label":"Next"},[l])],2)])])}var s={props:["page"]};s.render=i;t["a"]=s},b0c0:function(e,t,a){var c=a("83ab"),n=a("9bf2").f,o=Function.prototype,r=o.toString,l=/^\s*function ([^ (]*)/,i="name";c&&!(i in o)&&n(o,i,{configurable:!0,get:function(){try{return r.call(this).match(l)[1]}catch(e){return""}}})},cf2a:function(e,t,a){"use strict";a.r(t);a("b0c0");var c=a("7a23"),n=Object(c["f"])("h1",{class:"mt-3 mb-3"},"訂單管理",-1),o={class:"container"},r={class:"table table-hover align-middle"},l=Object(c["f"])("thead",null,[Object(c["f"])("tr",null,[Object(c["f"])("th",{width:"120"},"訂單日期"),Object(c["f"])("th",{width:"50"},"訂購人"),Object(c["f"])("th",{width:"50"},"電話"),Object(c["f"])("th",{width:"50"},"信箱"),Object(c["f"])("th",{width:"100"},"地址"),Object(c["f"])("th",{width:"120"},"備註"),Object(c["f"])("th",{width:"50"},"付款狀態"),Object(c["f"])("th",{width:"50"})])],-1),i={class:"text-truncate",style:{"max-width":"120px"}},s={class:"d-flex justify-content-center mt-5"};function d(e,t,a,d,b,f){var u=Object(c["w"])("pagination"),m=Object(c["w"])("EditOrder");return Object(c["r"])(),Object(c["d"])(c["a"],null,[n,Object(c["f"])("div",o,[Object(c["f"])("table",r,[l,Object(c["f"])("tbody",null,[(Object(c["r"])(!0),Object(c["d"])(c["a"],null,Object(c["v"])(b.orderList,(function(e){return Object(c["r"])(),Object(c["d"])("tr",{key:e.id},[Object(c["f"])("td",null,Object(c["z"])(new Date(e.create_at).toLocaleDateString("zh-TW"))+" "+Object(c["z"])(new Date(e.create_at).toLocaleTimeString("zh-TW")),1),Object(c["f"])("td",null,Object(c["z"])(e.user.name),1),Object(c["f"])("td",null,Object(c["z"])(e.user.tel),1),Object(c["f"])("td",null,Object(c["z"])(e.user.email),1),Object(c["f"])("td",null,Object(c["z"])(e.user.address),1),Object(c["f"])("td",i,Object(c["z"])(e.message),1),Object(c["f"])("td",null,Object(c["z"])(e.is_paid?"已付款":"未付款"),1),Object(c["f"])("td",null,[Object(c["f"])("button",{class:"btn btn-outline-info",onClick:function(t){return f.openModal(e)}},"修改訂單",8,["onClick"])])])})),128))])])]),Object(c["f"])("div",s,[Object(c["f"])(u,{page:b.pagination,onPageChange:f.getOrderList},null,8,["page","onPageChange"])]),Object(c["f"])(m,{ref:"editModal",onReget:f.getOrderList},null,8,["onReget"])],64)}var b=a("5530"),f=(a("99af"),a("1799")),u={class:"modal  fade",ref:"modal",tabindex:"-1"},m={class:"modal-dialog modal-lg"},O={class:"modal-content"},j=Object(c["f"])("div",{class:"modal-header justify-content-center bg-info text-light"},[Object(c["f"])("h3",{class:"modal-title w-100"},"修改訂單"),Object(c["f"])("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal","aria-label":"Close"})],-1),p={class:"modal-body"},h={class:"mb-3 row"},g=Object(c["f"])("label",{for:"orderDate",class:"col-sm-2 col-form-label"},"訂單日期",-1),v={class:"form-group col-sm-4"},y=Object(c["f"])("label",{for:"orderpaid",class:"col-sm-2 col-form-label"},"付款狀態",-1),_={class:"form-group col-sm-4"},w=Object(c["f"])("option",{value:"0"},"未付款",-1),k=Object(c["f"])("option",{value:"1"},"已付款",-1),x=Object(c["f"])("h2",{class:"mb-4"},"訂購人資訊",-1),$={class:"row mb-3"},C=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"姓名",-1),D={class:"col-sm-4"},z=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"電話",-1),M={class:"col-sm-4"},L={class:"row mb-3"},H=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"電子信箱",-1),S={class:"col-sm-4"},T=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"地址",-1),U={class:"col-sm-4"},V={class:"row mb-3"},P=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"備註",-1),W={class:"col-sm"},I={class:"row mb-3"},E=Object(c["f"])("label",{for:"name",class:"col-sm-2 col-form-label"},"付款方式",-1),J={class:"col-sm"},R={class:"btn-group w-100",role:"group","aria-label":"Basic radio toggle button group"},A=Object(c["f"])("label",{class:"btn btn-outline-primary",for:"btnradio1"},"貨到付款",-1),B=Object(c["f"])("label",{class:"btn btn-outline-primary",for:"btnradio2"},"信用卡",-1),F=Object(c["f"])("label",{class:"btn btn-outline-primary",for:"btnradio3"},"銀行匯款",-1),N={class:"modal-footer container-fluid"},q=Object(c["f"])("button",{type:"button",class:"btn btn-outline-secondary","data-bs-dismiss":"modal"}," Close ",-1);function G(e,t,a,n,o,r){return Object(c["r"])(),Object(c["d"])("div",u,[Object(c["f"])("div",m,[Object(c["f"])("div",O,[j,Object(c["f"])("div",p,[Object(c["f"])("form",null,[Object(c["f"])("div",h,[g,Object(c["f"])("div",v,[Object(c["H"])(Object(c["f"])("input",{type:"text",readonly:"",class:"form-control-plaintext",id:"orderDate","onUpdate:modelValue":t[1]||(t[1]=function(e){return o.unix=e})},null,512),[[c["D"],o.unix]])]),y,Object(c["f"])("div",_,[Object(c["f"])("select",{class:"form-select",id:"orderpaid",value:o.orderObj.is_paid?1:0,onChange:t[2]||(t[2]=function(e){return r.change(e)})},[w,k],40,["value"])])]),x,Object(c["f"])("div",$,[C,Object(c["f"])("div",D,[Object(c["H"])(Object(c["f"])("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[3]||(t[3]=function(e){return o.orderObj.user.name=e})},null,512),[[c["D"],o.orderObj.user.name,void 0,{trim:!0}]])]),z,Object(c["f"])("div",M,[Object(c["H"])(Object(c["f"])("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[4]||(t[4]=function(e){return o.orderObj.user.tel=e})},null,512),[[c["D"],o.orderObj.user.tel,void 0,{number:!0}]])])]),Object(c["f"])("div",L,[H,Object(c["f"])("div",S,[Object(c["H"])(Object(c["f"])("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[5]||(t[5]=function(e){return o.orderObj.user.email=e})},null,512),[[c["D"],o.orderObj.user.email,void 0,{trim:!0}]])]),T,Object(c["f"])("div",U,[Object(c["H"])(Object(c["f"])("input",{type:"text",class:"form-control",id:"name","onUpdate:modelValue":t[6]||(t[6]=function(e){return o.orderObj.user.address=e})},null,512),[[c["D"],o.orderObj.user.address,void 0,{trim:!0}]])])]),Object(c["f"])("div",V,[P,Object(c["f"])("div",W,[Object(c["H"])(Object(c["f"])("textarea",{id:"description",type:"text",class:"form-control",placeholder:"請輸入說明內容","onUpdate:modelValue":t[7]||(t[7]=function(e){return o.orderObj.message=e})},null,512),[[c["D"],o.orderObj.message,void 0,{trim:!0}]])])]),Object(c["f"])("div",I,[E,Object(c["f"])("div",J,[Object(c["f"])("div",R,[Object(c["f"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio1",autocomplete:"off",checked:1==o.pay_methods,onClick:t[8]||(t[8]=function(e){return r.payment(e)}),value:"1"},null,8,["checked"]),A,Object(c["f"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio2",autocomplete:"off",checked:2==o.pay_methods,onClick:t[9]||(t[9]=function(e){return r.payment(e)}),value:"2"},null,8,["checked"]),B,Object(c["f"])("input",{type:"radio",class:"btn-check",name:"btnradio",id:"btnradio3",checked:3==o.pay_methods,autocomplete:"off",onClick:t[10]||(t[10]=function(e){return r.payment(e)}),value:"3"},null,8,["checked"]),F])])])])]),Object(c["f"])("div",N,[Object(c["f"])("button",{onClick:t[11]||(t[11]=function(){return r.deleteOne&&r.deleteOne.apply(r,arguments)}),class:"btn btn-danger mr-auto"}," 刪除訂單 "),q,Object(c["f"])("button",{type:"button",class:"btn btn-primary",onClick:t[12]||(t[12]=function(){return r.edit&&r.edit.apply(r,arguments)})},"Save changes")])])])],512)}var K=a("7c2b"),Q=a.n(K),X={data:function(){return{modal:"",orderObj:{is_paid:"",user:{},payment_method:""},unix:"",pay_methods:""}},methods:{edit:function(){var e=this,t=this.orderObj.id;this.$http.put("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua430","/admin/order/").concat(t),{data:this.orderObj}).then((function(t){e.$swal(t.data.message),e.$emit("reget"),e.modal.hide()}))},deleteAll:function(){var e=this;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua430","/admin/orders/all")).then((function(t){e.$swal(t.data.message),e.$emit("reget"),e.modal.hide()}))},deleteOne:function(){var e=this,t=this.orderObj.id;this.$http.delete("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua430","/admin/order/").concat(t)).then((function(t){e.$swal(t.data.message),e.$emit("reget"),e.modal.hide()}))},change:function(e){var t=e.target.value;this.orderObj.is_paid="1"===t,console.log(this.orderObj.is_paid)},payment:function(e){var t=e.target.value;this.orderObj.payment_method="1"===t?"cash_on_delivery":"2"===t?"credit_card":"bank_transfer"}},created:function(){},mounted:function(){this.modal=new Q.a(this.$refs.modal)}};X.render=G;var Y=X,Z={data:function(){return{orderList:[],pagination:{}}},methods:{getOrderList:function(e){var t=this;this.$http.get("".concat("https://vue3-course-api.hexschool.io/","api/").concat("hua430","/admin/orders?page=").concat(e)).then((function(e){e.data.success&&(t.orderList=e.data.orders,t.pagination=e.data.pagination)}))},openModal:function(e){this.$refs.editModal.modal.show(),this.$refs.editModal.orderObj=Object(b["a"])({},e),this.$refs.editModal.unix="".concat(new Date(e.create_at).toLocaleDateString("zh-TW"),"  ").concat(new Date(e.create_at).toLocaleTimeString("zh-TW")),"bank_transfer"===this.$refs.editModal.orderObj.payment_method?this.$refs.editModal.pay_methods="3":"cash_on_delivery"===this.$refs.editModal.orderObj.payment_method?this.$refs.editModal.pay_methods="1":"credit_card"===this.$refs.editModal.orderObj.payment_method&&(this.$refs.editModal.pay_methods="2"),console.log(e)}},components:{Pagination:f["a"],EditOrder:Y},created:function(){this.getOrderList()}};Z.render=d;t["default"]=Z}}]);
//# sourceMappingURL=chunk-386ca95a.fe8a59ff.js.map